\usepackage{libertine}
\usepackage{amssymb}
\usepackage{ulem}
\usepackage{../macro}

\newcommand{\xbar}[1]{\ensuremath{\overline{\textrm{#1}}}}

\usepackage[table,dvipsnames]{xcolor}
\usepackage{graphicx}
\usepackage{adjustbox}

\newcommand{\SIZE}{10pt}
%%% Trees
\usepackage[linguistics]{forest}
\usepackage{tikz}
\usetikzlibrary{trees}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{shapes.geometric, shapes.misc}

% \newcommand{\}{def}

\tikzset{
  rect/.style={
      shape border rotate=0,
      regular polygon,
      regular polygon sides=4,
      % minimum height=1em,
      inner sep=0
    },
  mtriangle/.style={
      shape border rotate=0,
      regular polygon,
      regular polygon sides=3,
      % minimum height=1em,
      text width=\SIZE,
      inner sep=0
    },
  allRed/.style={
      draw=red,
      text=red,
    },
  allBlue/.style={
    draw=blue,
    text=blue,
  },
  allGreen/.style={
    draw=green,
    text=green,
  },
  allBlack/.style={
    % draw=blue,
    text=black,
  },
  andNode/.style={ allBlue, mtriangle },
  orNode/.style={ allRed, mtriangle },
  okNode/.style={ allGreen, circle, },
  atomNode/.style={ allBlack, rect, },
  distances/.style={level distance=13mm, sibling distance=13mm}
}

\newcommand{\iText}[1]{\adjustbox{max width=\SIZE}{\small{#1}}}

% labels
\newcommand{\nOK}[1]{
  node[okNode](#1)  {\iText{\okN}}
}

\newcommand{\nOr}[1]{
  node[orNode](#1)  {\iText{\orN}}
}

\newcommand{\nAnd}[1]{
  node[andNode](#1)  {\iText{\andN}}
}

\newcommand{\nCut}[1]{
  node[atomNode](#1)  {\iText{\cutN}}
}

\newcommand{\nCall}[2]{
  node[atomNode](#1)  {\iText{#2}}
}

\newcommand{\nAny}[1]{
  node(#1)  {\iText{\dots}}
}

\newcommand{\nDead}[1]{
  node(#1)  {\iText{DEAD}}
}

\newcommand{\orN}{\ensuremath{Or}}   % or node
\newcommand{\andN}{\ensuremath{And}} % and node
\newcommand{\okN}{\ensuremath{OK}} % ok node
\newcommand{\cutN}{\ensuremath{!}} % ok node


% \newcommand{\nOK}[1]{\node[text=green] at (#1.center) {\okN}}
% \newcommand{\nOK}[1]{\node[text=green] at (#1.center) {\okN}}

